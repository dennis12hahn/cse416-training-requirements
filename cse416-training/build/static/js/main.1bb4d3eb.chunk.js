(this["webpackJsonpcse416-training"]=this["webpackJsonpcse416-training"]||[]).push([[0],{38:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(17),a=n.n(c),r=n(32),i=n.n(r),s=(n(38),n(9)),o=n(19),d=n(15),u=n(12),l=n(33),b=(n(41),n(30)),f=(n(45),n(11)),j=(b.a.initializeApp({apiKey:"AIzaSyAs4XIS-dzpP36B95QQa4z0bk_PR8S53lk",authDomain:"cse416-training.firebaseapp.com",projectId:"cse416-training",storageBucket:"cse416-training.appspot.com",messagingSenderId:"838408399543",appId:"1:838408399543:web:6c11f4dc6956fed2757b32",measurementId:"G-E7F66BCT9L"}),b.a.firestore()),p={Cell:function(e){var t=e.value,n=e.row.index,c=e.column.id,r=e.updateMyData,i=a.a.useState(t),s=Object(u.a)(i,2),o=s[0],d=s[1];return a.a.useEffect((function(){d(t)}),[t]),Object(f.jsx)("input",{value:o,onChange:function(e){d(e.target.value)},onBlur:function(){r(n,c,o)}})}};function m(e){var t=e.columns,n=e.data,c=e.updateMyData,a=e.skipPageReset,r=Object(l.useTable)({columns:t,data:n,defaultColumn:p,autoResetPage:!a,updateMyData:c}),i=r.getTableProps,s=r.getTableBodyProps,o=r.headerGroups,u=r.rows,b=r.prepareRow;return Object(f.jsxs)("table",Object(d.a)(Object(d.a)({class:"table table-striped table-hover table-sm border table-responsive-sm mx-auto my-5 w-50"},i()),{},{children:[Object(f.jsx)("thead",{children:o.map((function(e){return Object(f.jsx)("tr",Object(d.a)(Object(d.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(f.jsx)("th",Object(d.a)(Object(d.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(f.jsx)("tbody",Object(d.a)(Object(d.a)({},s()),{},{children:u.map((function(e,t){return b(e),Object(f.jsx)("tr",Object(d.a)(Object(d.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(d.a)(Object(d.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var h=function(){Object(c.useState)((function(){j.collection("users").onSnapshot((function(e){r(e.docs.map((function(e){return e.data()})))}))}),[]);var e=a.a.useState([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=a.a.useMemo((function(){return[{Header:"ID",accessor:"id"},{Header:"First Name",accessor:"first_name"},{Header:"Last Name",accessor:"last_name"},{Header:"Email",accessor:"email"},{Header:"Gender",accessor:"gender"},{Header:"Delete",id:"delete",accessor:function(e){return"delete"},Cell:function(e){return Object(f.jsx)("button",{class:"btn btn-danger btn-sm",onClick:function(){var t=Object(o.a)(n),c=j.collection("users").where("id","==",t[e.row.index].id).limit(1),a=j.batch();c.get().then((function(n){return n.docs.forEach((function(n){a.delete(n.ref),t.splice(e.row.index,1),r(t)})),a.commit()}))},children:"x"})}},{Header:"Insert",id:"insert",accessor:function(e){return"insert"},Cell:function(e){return Object(f.jsx)("button",{class:"btn btn-success btn-sm",onClick:function(){var e=Object(o.a)(n),t={gender:"",first_name:"",last_name:"",email:"",id:""};j.collection("users").orderBy("id","desc").limit(1).get().then((function(n){n.docs.forEach((function(n){t.id=n.get("id")+1,e.push(t),r(e),j.collection("users").add(t)}))}))},children:"+"})}}]}),[n]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:{margin:"auto",width:"50%",padding:"10px"},children:Object(f.jsx)("button",{class:"btn btn-primary btn-success",style:{marginLeft:"50%"},onClick:function(){var e=Object(o.a)(n),t={gender:"",first_name:"",last_name:"",email:"",id:""};0===e.length?(!0,t.id=1,e.push(t),r(e),j.collection("users").add(t)):j.collection("users").orderBy("id","desc").limit(1).get().then((function(n){n.docs.forEach((function(n){t.id=n.get("id")+1,e.push(t),r(e),j.collection("users").add(t)}))}))},children:"Add New"})}),Object(f.jsx)(m,{columns:i,data:n,updateMyData:function(e,t,n){r((function(c){return c.map((function(a,r){if(r===e)try{return Object(d.a)(Object(d.a)({},c[e]),{},Object(s.a)({},t,n))}finally{var i=j.collection("users").where("id","==",c[r].id).limit(1),o=j.batch(),u=c[r];console.log(u),i.get().then((function(e){return e.docs.forEach((function(e){o.update(e.ref,u)})),o.commit()}))}return a}))}))}}),";"]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(h,{})}),document.getElementById("root")),g()}},[[44,1,2]]]);
//# sourceMappingURL=main.1bb4d3eb.chunk.js.map